(this["webpackJsonpmodular-ramp"]=this["webpackJsonpmodular-ramp"]||[]).push([[0],{104:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n(3),a=n.n(r),c=n(31),s=n(102),o=n(58),u=n(113),i=n(265),l={testnet:"0x6cA13a4ab78dd7D657226b155873A04DB929A3A4",mainnet:"0xa47c8bf37f92aBed4A126BDA807A7b7498661acD"},d=function(t){try{var n=u.bech32.decode(t).words,r=u.bech32.fromWords(n);return"0x"+e.from(r).toString("hex")}catch(a){return""}};function b(e,t){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.ethereumContext,r=n.terraContext,c=r.address,e.abrupt("return",{type:"shuttleBurn",shuttleBurnArgs:{toAddress:c,ustAmount:t}});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.onProgress,c=void 0===r?function(){}:r,s=n.ethereumContext,e.t0=t.type,e.next="tx"===e.t0?4:"shuttleBurn"===e.t0?19:22;break;case 4:if(s.signer){e.next=6;break}throw new Error("Missing signer");case 6:return c("Initiating transaction..."),e.prev=7,e.next=10,s.signer.sendTransaction(t.txArg);case 10:return o=e.sent,c("Transaction successful"),e.abrupt("return",o);case 15:throw e.prev=15,e.t1=e.catch(7),c("Transaction failed ".concat(e.t1)),e.t1;case 19:if(t.shuttleBurnArgs){e.next=21;break}throw new Error("Missing args");case 21:return e.abrupt("return",j(t.shuttleBurnArgs,{ethereumContext:s,onProgress:c}));case 22:throw new Error("Unreachable code reached due to ".concat(t));case 24:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function j(e,t){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(a.a.mark((function e(t,n){var r,c,u,b,f,p,h,j,x,m,w,O,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.toAddress,c=t.ustAmount,u=n.onProgress,b=void 0===u?function(){}:u,f=n.ethereumContext,p=f.signer,h=f.networkType,r&&c&&h){e.next=5;break}return e.abrupt("return");case 5:if(p){e.next=7;break}return e.abrupt("return");case 7:return j=new s.a.Contract(l[h],i.a,p),x=d(r),m=o.utils.parseUnits(c,18),e.prev=10,w=j.burn(m,x.padEnd(66,"0")),b("Initiating transaction..."),e.next=15,w;case 15:return O=e.sent,v=O.hash,b("Transaction successful."),e.abrupt("return",{success:!0,hash:v});case 21:throw e.prev=21,e.t0=e.catch(10),e.t0;case 24:case"end":return e.stop()}}),e,null,[[10,21]])})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ethereumContext,r=n.provider,c=n.publicAddress,s=n.networkType,c){e.next=4;break}throw new Error("No public address of ethereum wallet");case 4:if(r){e.next=6;break}throw new Error("No provider");case 6:if(s){e.next=8;break}throw new Error("No network type selected");case 8:return e.abrupt("return",new Promise((function(e){var t={address:l[s],topics:[o.utils.id("Transfer(address,address,uint256)"),o.utils.hexZeroPad("0x0",32),o.utils.hexZeroPad(c,32)]};r.once(t,(function(t,n){var r=t.data,a=o.utils.formatEther(r);e(a)}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(32).Buffer)},119:function(e,t){},265:function(e,t,n){"use strict";t.a=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function earned(address account) public view returns (uint256)","function allowance(address owner, address spender) external view returns (uint256)","function totalSupply() public view returns (uint256)","function currentReward() public view returns (uint256)","function lastTimeRewardApplicable() public view returns (uint256)","function rewardPerToken() public view returns (uint256)","function transfer(address to, uint amount) returns (boolean)","function burn(uint256 amount, bytes32 to) returns (boolean)","function approve(address spender, uint256 amount) external returns (bool)","function stake(uint256 amount) external","function withdraw(uint256 amount) external","function getReward() external","function claim(uint256 index, address account, uint256 amount, bytes32[] calldata merkleProof) external","event Transfer(address indexed from, address indexed to, uint amount)"]},286:function(e,t){},364:function(e,t){},366:function(e,t){},376:function(e,t){},378:function(e,t){},390:function(e,t){},392:function(e,t){},469:function(e,t){},471:function(e,t){},477:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(260),s=n.n(c),o=n(273),u=n(514),i=n(507),l=n(498),d=n(512),b=n(11),f=n(500),p=n(502),h={terra:"Terra",ethereum:"Ethereum",bsc:"Binance Smart Chain"},j=["ethereum","terra"],x={testnet:"Testnet: Ropsten / Tequila",mainnet:"Main Net"},m=["testnet","mainnet"],w="testnet",O={mainnet:"columbus-4",testnet:"tequila-0004"},v={mainnet:{mantle:"https://mantle.terra.dev/",shuttle:{ethereum:"terra13yxhrk08qvdf5zdc9ss5mwsg5sf7zva9xrgwgc",bsc:"terra1g6llg3zed35nd3mh9zx6n64tfw3z67w2c48tn2"},fcd:"https://fcd.terra.dev",lcd:"https://lcd.terra.dev"},testnet:{mantle:"https://tequila-mantle.terra.dev/",shuttle:{ethereum:"terra10a29fyas9768pw8mewdrar3kzr07jz8f3n73t3",bsc:"terra1paav7jul3dzwzv78j0k59glmevttnkfgmgzv2r"},fcd:"https://tequila-fcd.terra.dev",lcd:"https://tequila-lcd.terra.dev"}},g=n(3),k=n.n(g),C=n(31),y=n(58),S=n(102),T=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function transfer(address to, uint amount) returns (boolean)","event Transfer(address indexed from, address indexed to, uint amount)"],A=n(10),E={testnet:"0x6cA13a4ab78dd7D657226b155873A04DB929A3A4",mainnet:"0xa47c8bf37f92aBed4A126BDA807A7b7498661acD"},B=Object(r.createContext)({USTBalance:null,publicAddress:null,provider:null,signer:null,refreshBalance:function(){},networkType:null});var P="eth_connected";function N(e){var t,n=e.networkType,a=e.onChange,c=Object(r.useState)(null),s=Object(b.a)(c,2),o=s[0],u=s[1],i=Object(r.useState)(null),f=Object(b.a)(i,2),p=f[0],h=f[1],j=Object(r.useState)(null),x=Object(b.a)(j,2),m=x[0],w=x[1],O=Object(r.useState)(!0),v=Object(b.a)(O,2),g=v[0],B=v[1];return Object(r.useEffect)((function(){sessionStorage.getItem(P)===P&&N()}),[]),Object(r.useEffect)((function(){var e=!1;return Object(C.a)(k.a.mark((function t(){var r,a,c,s,u;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m&&(null===m||void 0===m?void 0:m.provider)&&o&&g){t.next=2;break}return t.abrupt("return");case 2:return r=m.provider,t.prev=3,a=new S.a.Contract(E[n],T,r),t.next=7,a.balanceOf(o);case 7:return c=t.sent,t.next=10,a.decimals();case 10:return s=t.sent,t.next=13,a.symbol();case 13:if(u=t.sent,!e){t.next=16;break}return t.abrupt("return");case 16:h({balance:c,decimals:s,symbol:u}),B(!1),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(3),console.error(t.t0);case 23:case"end":return t.stop()}}),t,null,[[3,20]])})))(),function(){e=!0}}),[m,o,g,n]),Object(r.useEffect)((function(){a({USTBalance:p,publicAddress:o,provider:(null===m||void 0===m?void 0:m.provider)||null,signer:(null===m||void 0===m?void 0:m.signer)||null,refreshBalance:I,networkType:n})}),[a,p,o,m,n]),Object(A.jsxs)(l.a,{children:[Object(A.jsxs)(d.a,{onClick:N,disabled:Boolean(o),children:[o?"Connected":"Connect"," to Ethereum"]}),Object(A.jsx)(l.a,{ps:2,children:Object(A.jsxs)("small",{children:[o,p?Object(A.jsx)("div",{children:Object(A.jsxs)("pre",{children:[(t=p,t&&y.utils.formatUnits(t.balance,t.decimals)||"")," UST"]})}):null]})})]});function N(){return D.apply(this,arguments)}function D(){return(D=Object(C.a)(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a.providers.Web3Provider(window.ethereum),n=t.getSigner(),w({provider:t,signer:n}),e.next=5,t.send("eth_requestAccounts",[]);case 5:return e.next=7,n.getAddress();case 7:r=e.sent,u(r),sessionStorage.setItem(P,P);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){B(!0)}}var D=n(52),I=1e6;var U=n(74),z=new D.Coin("uusd",new D.Int(1e6));function R(e,t){return F.apply(this,arguments)}function F(){return(F=Object(C.a)(k.a.mark((function e(t,n){var r,a,c,s,o,u,i,l,d,b,f,p,h,j,x,m,w;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.ethereumContext,a=n.terraContext,c=a.address,s=a.networkType){e.next=4;break}throw new Error("No network type selected.");case 4:if(c){e.next=6;break}throw new Error("No address found.");case 6:if(r.publicAddress){e.next=8;break}throw new Error("No Ethereum address found.");case 8:return o=new D.Coin("uusd",new D.Dec(t).mul(I).toInt()),u=new D.MsgSend(c,v[s].shuttle.ethereum,new D.Coins([o])),i=.15,l={msgs:[u],memo:r.publicAddress,gasPrices:new D.Coins({uusd:i})},d=H(a),e.next=15,d.tx.create(c,l);case 15:return b=e.sent,e.next=18,d.tx.estimateFee(b);case 18:return f=e.sent,console.log("estimated gas needed",f.gas),e.next=22,d.utils.calculateTax(o);case 22:return p=e.sent,h=new D.Int(f.gas).mul(i).ceil(),j=p.add(h),x=o.mul(.001),m=x.amount.lessThan(z.amount)?z:x,w=new D.StdFee(f.gas,[j]),e.abrupt("return",{network:"terra",amount:o,estTx:l,estFees:w,relayingFee:m});case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return q.apply(this,arguments)}function q(){return(q=Object(C.a)(k.a.mark((function e(t,n){var r,a,c,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.onProgress,a=void 0===r?function(){}:r,c=n.terraContext,s=c.extension,t&&s){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",new Promise((function(e){s.post(Object(U.a)(Object(U.a)({},t.estTx),{},{fee:t.estFees})),s.once("onPost",(function(t){console.log(t),e(t),a("Transaction ID: ".concat(t.id,", Success: ").concat(t.success))})),a("Posting transaction...")})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return W.apply(this,arguments)}function W(){return(W=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return _.apply(this,arguments)}function _(){return(_=Object(C.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.terraContext;case 1:if(null===(a=r)||void 0===a?void 0:a.balanceHasChanged){e.next=10;break}return console.debug("Waiting, no change"),e.next=5,J(5e3);case 5:return e.next=7,n.refreshBalance();case 7:r=e.sent,e.next=1;break;case 10:return console.debug("Done waiting"),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){var t=e.networkType;if(!t)throw new Error("No network type selected.");var n=v[t].lcd,r=O[t];return new D.LCDClient({URL:n,chainID:r})}var Y=Object(r.createContext)({extension:null,address:null,balance:null,refreshBalance:function(){},networkType:null}),Z="terra_connected";function $(e){var t=e.networkType,n=e.onChange,a=Object(r.useState)(null),c=Object(b.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(null),i=Object(b.a)(u,2),f=i[0],p=i[1],h=Object(r.useState)(null),j=Object(b.a)(h,2),x=j[0],m=j[1],w=Object(r.useState)(null),O=Object(b.a)(w,2),g=O[0],y=O[1],S=Object(r.useState)(null),T=Object(b.a)(S,2),E=T[0],B=T[1];Object(r.useEffect)((function(){sessionStorage.getItem(Z)===Z&&U()}),[]),Object(r.useEffect)((function(){z()}),[f,t]),Object(r.useEffect)((function(){var e=!1;if(E&&f)return Object(C.a)(k.a.mark((function n(){var r,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H({networkType:t}).bank.balance(f);case 2:if(r=n.sent,!e){n.next=5;break}return n.abrupt("return");case 5:(a=(null===x||void 0===x?void 0:x.toJSON())!==r.toJSON())&&m(r),E.resolve({balanceHasChanged:a}),B(null);case 9:case"end":return n.stop()}}),n)})))(),function(){e=!0}}),[E,f,x,t]),Object(r.useEffect)((function(){g&&v[t].lcd!==g.lcd&&console.error("Network chosen does not match Terra extension network"),n({extension:s,address:f,balance:x,networkType:t,refreshBalance:z})}),[n,s,f,x,t,g]);var P,N=x&&x.get("uusd");return Object(A.jsxs)(l.a,{children:[Object(A.jsxs)(d.a,{onClick:U,disabled:Boolean(f),children:[f?"Connected":"Connect"," to Terra"]}),Object(A.jsx)(l.a,{ps:2,children:Object(A.jsxs)("small",{children:[f,N?Object(A.jsx)("div",{children:Object(A.jsxs)("pre",{children:[(P=N,P?new D.Dec(P.amount).div(I).toString().replace(/\.?0+$/,""):"")," UST"]})}):null]})})]});function U(){var e=new D.Extension;e.connect(),e.on("onConnect",(function(t){p(t.address),e.info(),e.on("onInfo",(function(e){y(e)}))})),o(e),sessionStorage.setItem(Z,Z)}function z(){return R.apply(this,arguments)}function R(){return(R=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e){B((function(n){return null===n||void 0===n||n.resolve(t),{resolve:e}}))})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}function G(e){var t=e.children,n=Object(r.useState)(w),a=Object(b.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)({extension:null,address:null,balance:null,refreshBalance:function(){},networkType:w}),u=Object(b.a)(o,2),i=u[0],d=u[1],h=Object(r.useState)({USTBalance:null,publicAddress:null,provider:null,signer:null,refreshBalance:function(){},networkType:w}),j=Object(b.a)(h,2),O=j[0],v=j[1];return Object(A.jsxs)(l.a,{children:[Object(A.jsxs)(l.a,{p:4,shadow:"md",borderWidth:"1px",borderRadius:"md",m:5,children:[Object(A.jsx)(l.a,{children:Object(A.jsx)(f.a,{mb:2,value:c,onChange:function(e){return s(e.target.value)},borderColor:"mainnet"===c?"red.500":void 0,bg:"mainnet"===c?"red.500":"transparent",children:m.map((function(e){return Object(A.jsx)("option",{value:e,children:x[e]},e)}))})}),Object(A.jsxs)(p.a,{justify:"space-evenly",children:[Object(A.jsx)(p.b,{children:Object(A.jsx)(N,{networkType:c,onChange:v})}),Object(A.jsx)(p.b,{children:Object(A.jsx)($,{networkType:c,onChange:d})})]})]}),Object(A.jsx)(l.a,{children:Object(A.jsx)(Y.Provider,{value:i,children:Object(A.jsx)(B.Provider,{value:O,children:t})})})]})}var K=n(28),Q=n(6),V=n(117),X=n(503),ee=n(504),te=n(505),ne=n(506),re=n(513),ae=n(510),ce=n(508),se=n(104),oe="0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48";function ue(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(C.a)(k.a.mark((function e(t,n){var r,a,c,s,o,u,i,l,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.amountString,a=t.inputCurrency,c=t.outputCurrency,s=n.ethereumContext,o=s.publicAddress,"UST"===a&&"USDC"===c){e.next=5;break}throw new Error("Unsupported currencies, only UST to USDC is supported. You requested ".concat(a," -> ").concat(c));case 5:return u=se.c.mainnet,oe,i=y.utils.parseEther(r),l=o,.5,!0,d="https://api.1inch.exchange/v3.0/1/swap?fromTokenAddress=".concat(u,"&toTokenAddress=").concat("0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","&amount=").concat(i,"&fromAddress=").concat(l,"&slippage=").concat(.5).concat("&disableEstimate=true"),e.abrupt("return",fetch(d).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.tx,n=e.fromToken,r=e.fromTokenAmount,a=e.toToken,c=e.toTokenAmount;delete t.gas,delete t.gasPrice;var s="0x"+parseInt(t.value).toString(16);return t.value=s,{info:{fromToken:n,fromTokenAmount:r,toToken:a,toTokenAmount:c},args:{type:"tx",txArg:t}}})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function e(){Object(Q.a)(this,e),this.network=null,this.currency=null,this.amount=null};function de(){var e=Object(r.useState)([new le]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(b.a)(c,2),o=s[0],i=s[1];return Object(A.jsx)(l.a,{p:4,shadow:"md",borderWidth:"1px",borderRadius:"md",m:5,children:Object(A.jsxs)(u.c,{divider:Object(A.jsx)(u.b,{borderColor:"gray.200"}),spacing:4,children:[n.map((function(e,t){return 0===t?Object(A.jsx)(l.a,{children:Object(A.jsx)(be,{output:e,onChange:function(e){return a([e].concat(Object(K.a)(n.slice(1))))},onAddStep:function(){return a([].concat(Object(K.a)(n.slice(0,t+1)),[new le],Object(K.a)(n.slice(t+1))))}})},0):Object(A.jsx)(fe,{stepNumber:t-1,input:n[t-1],output:e,onChange:function(e){return a([].concat(Object(K.a)(n.slice(0,t)),[e],Object(K.a)(n.slice(t+1))))},onAddStep:function(){return a([].concat(Object(K.a)(n.slice(0,t)),[new le],Object(K.a)(n.slice(t))))},onRemoveStep:function(){return a([].concat(Object(K.a)(n.slice(0,t)),Object(K.a)(n.slice(t+1))))},status:o[t-1]},t)})),Object(A.jsx)(pe,{steps:n,onStatusesChange:i})]})})}function be(e){var t=e.input,n=e.output,r=e.onChange,a=e.onAddStep,c=e.onRemoveStep,s=function(e){r(Object(U.a)(Object(U.a)({},n),{},{network:e}))},o=function(e){r(Object(U.a)(Object(U.a)({},n),{},{currency:e}))},i=function(e){r(Object(U.a)(Object(U.a)({},n),{},{amount:e}))};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(u.a,{children:[Object(A.jsxs)(V.a,{children:[Object(A.jsx)(X.a,{children:"Network"}),Object(A.jsx)(f.a,{placeholder:"Select network",value:n.network||"",onChange:function(e){return s(e.target.value)},children:j.map((function(e){return Object(A.jsx)("option",{value:e,children:h[e]},e)}))})]}),"terra"!==(null===t||void 0===t?void 0:t.network)?Object(A.jsxs)(V.a,{children:[Object(A.jsx)(X.a,{children:"Currency"}),Object(A.jsxs)(f.a,{placeholder:"Select currency",onChange:function(e){return o(e.target.value)},children:[Object(A.jsx)("option",{children:"UST"}),Object(A.jsx)("option",{children:"USDC"})]})]}):null]}),Object(A.jsxs)(V.a,{children:[Object(A.jsx)(X.a,{children:"Amount"}),Object(A.jsxs)(ee.a,{children:[Object(A.jsx)(te.a,{placeholder:"Enter amount",type:"number",pr:"4.5rem",min:"0",value:n.amount||"",onChange:function(e){return i(e.target.value)}}),Object(A.jsx)(ne.a,{pointerEvents:"none",color:"gray.300",fontSize:"1.2em",width:"4.5rem",children:n.currency})]})]}),Object(A.jsxs)(u.a,{mt:5,children:[Object(A.jsx)(d.a,{onClick:a,children:"Add Step"}),c?Object(A.jsx)(d.a,{onClick:c,children:"Remove Step"}):null]})]})}function fe(e){var t=e.stepNumber,n=e.input,a=e.output,c=e.onChange,s=e.onAddStep,o=e.onRemoveStep,u=e.status,d=Object(r.useState)(""),f=Object(b.a)(d,2),p=f[0],j=f[1];return Object(r.useEffect)((function(){if(n.network&&a.network)switch(!0){case n.network!==a.network:j("Bridge ".concat(h[n.network]," to ").concat(h[a.network]));break;default:j("Step  ".concat(t+1))}}),[n,a,t]),Object(A.jsxs)(l.a,{children:[Object(A.jsx)(i.a,{size:"md",children:p}),Object(A.jsx)(be,{input:n,output:a,onAddStep:s,onRemoveStep:o,onChange:c}),u?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(re.a,{}),u]}):null]})}function pe(e){var t=e.steps,n=e.onStatusesChange,a=Object(r.useContext)(Y),c=Object(r.useContext)(B),s=Object(r.useState)(null),f=Object(b.a)(s,2),p=f[0],h=f[1],j=Object(o.c)("teal.100","teal.800");return Object(A.jsxs)(u.c,{bg:j,m:5,p:2,borderRadius:"md",align:"start",children:[Object(A.jsx)(i.a,{size:"lg",children:"Summary"}),Object(A.jsx)(d.a,{onClick:function(){return function(e,t){return he.apply(this,arguments)}({steps:t,terraContext:a,ethereumContext:c},h)},children:"Estimate Transaction"}),p&&Object(A.jsxs)(l.a,{children:[Object(A.jsx)(ae.a,{allowToggle:!0,children:Object(A.jsxs)(ae.c,{children:[Object(A.jsx)(ae.b,{children:Object(A.jsx)(l.a,{flex:"1",textAlign:"left",children:"Show Debug Info"})}),Object(A.jsx)(ae.d,{children:Object(A.jsx)(ce.a,{w:"500px",as:"pre",fontSize:"8",children:JSON.stringify(p,null,2)})})]})}),Object(A.jsx)(d.a,{onClick:function(){return function(e){return me.apply(this,arguments)}({executionSteps:p,steps:t,terraContext:a,ethereumContext:c,onStatusesChange:n})},children:"Execute"})]})]})}function he(){return(he=Object(C.a)(k.a.mark((function e(t,n){var r,a,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.steps,a=t.terraContext,c=t.ethereumContext,s=[],o=1;case 3:if(!(o<r.length)){e.next=12;break}return e.t0=s,e.next=7,je(r[o-1],r[o],{terraContext:a,ethereumContext:c});case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 9:o++,e.next=3;break;case 12:n(s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t,n){return xe.apply(this,arguments)}function xe(){return(xe=Object(C.a)(k.a.mark((function e(t,n,r){var a,c,s,o,u,i,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.terraContext,c=r.ethereumContext,"terra"!==t.network||"ethereum"!==n.network){e.next=10;break}if(t.amount){e.next=4;break}throw new Error("No input amount");case 4:return e.next=6,R(t.amount,{terraContext:a,ethereumContext:c});case 6:return s=e.sent,e.abrupt("return",{network:"terra",args:s,info:s});case 10:if("ethereum"!==t.network||"terra"!==n.network){e.next=19;break}if(t.amount){e.next=13;break}throw new Error("No input amount");case 13:return e.next=15,Object(se.a)(t.amount,{terraContext:a,ethereumContext:c});case 15:return o=e.sent,e.abrupt("return",{network:"eth",args:o,info:o});case 19:if("ethereum"!==t.network||"ethereum"!==n.network){e.next=30;break}if(t.amount){e.next=22;break}throw new Error("No input amount");case 22:if(u=t.currency,i=n.currency,u&&i){e.next=26;break}throw new Error("No specified input/output currencies");case 26:return e.next=28,ue({amountString:t.amount,inputCurrency:u,outputCurrency:i},{ethereumContext:c});case 28:return l=e.sent,e.abrupt("return",{network:"eth",args:l.args,info:l.info});case 30:throw new Error("Unimplemented operation ".concat(JSON.stringify(t)," to ").concat(JSON.stringify(n)));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(C.a)(k.a.mark((function e(t){var n,r,a,c,s,o,u,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.executionSteps,r=t.steps,a=t.terraContext,c=t.ethereumContext,s=t.onStatusesChange,o=[],u=k.a.mark((function e(t){var u,i,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=n[t],i=t,(l=function(e){o[i]=e,s(o)})("Initiating step..."),e.t0=u.network,e.next="terra"===e.t0?7:"eth"===e.t0?15:27;break;case 7:return e.next=9,M(u.args,{terraContext:a,onProgress:l});case 9:return a.refreshBalance(),l("Waiting for transaction on Eth side"),e.next=13,Object(se.d)({ethereumContext:c,terraContext:a});case 13:return c.refreshBalance(),e.abrupt("break",27);case 15:if("terra"!==r[t+1].network){e.next=19;break}return l("Preparing for transaction..."),e.next=19,a.refreshBalance();case 19:return e.next=21,Object(se.b)(u.args,{ethereumContext:c,onProgress:l});case 21:if(c.refreshBalance(),"terra"!==r[t+1].network){e.next=26;break}return l("Waiting for transaction on Terra side"),e.next=26,L({terraContext:a,ethereumContext:c});case 26:return e.abrupt("break",27);case 27:l(null);case 28:case"end":return e.stop()}}),e)})),i=0;case 4:if(!(i<n.length)){e.next=9;break}return e.delegateYield(u(i),"t0",6);case 6:i++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var we=function(){var e=Object(o.b)(),t=e.colorMode,n=e.toggleColorMode;return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsxs)(u.a,{pt:2,px:5,justify:"space-between",children:[Object(A.jsx)(i.a,{children:"Modular Ramp"}),Object(A.jsx)(l.a,{textAlign:"right",children:Object(A.jsxs)(d.a,{onClick:n,children:["Toggle ","light"===t?"Dark":"Light"]})})]}),Object(A.jsx)(G,{children:Object(A.jsx)(de,{})})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,515)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ve=n(509),ge=n(511);s.a.render(Object(A.jsxs)(a.a.StrictMode,{children:[Object(A.jsx)(ve.a,{initialColorMode:"system"}),Object(A.jsx)(ge.a,{children:Object(A.jsx)(we,{})})]}),document.getElementById("root")),Oe()}},[[477,1,2]]]);
//# sourceMappingURL=main.35c61459.chunk.js.map